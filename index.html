<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BorzWear Каталог</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; max-width: 900px; margin: auto; }
  form { margin-bottom: 30px; background: #f9f9f9; padding: 15px; border-radius: 6px; }
  label { display: block; margin-bottom: 10px; }
  input, select, button { padding: 8px; font-size: 16px; width: 100%; box-sizing: border-box; margin-top: 4px; }
  #contactPhone, #contactEmail { margin-top: 10px; }
  .product { border: 1px solid #ccc; padding: 12px; margin-bottom: 15px; border-radius: 6px; background: #fff; }
  .product h3 { margin: 0 0 8px 0; }
  .contact { margin-top: 6px; font-weight: bold; }
</style>
</head>
<body>

<h1>Добавить товар в каталог BorzWear</h1>
<form id="sellForm">
  <label>
    Название товара:
    <input type="text" name="productName" required />
  </label>

  <label>
    Цена (€):
    <input type="number" name="price" required min="0" />
  </label>

  <label>
    Город:
    <select name="city" required>
      <option value="">Выберите город</option>
      <option value="Angers">Angers</option>
      <option value="Bordeaux">Bordeaux</option>
      <option value="Clermont-Ferrand">Clermont-Ferrand</option>
      <option value="Dijon">Dijon</option>
      <option value="Grenoble">Grenoble</option>
      <option value="Lille">Lille</option>
      <option value="Lyon">Lyon</option>
      <option value="Marseille">Marseille</option>
      <option value="Montpellier">Montpellier</option>
      <option value="Nantes">Nantes</option>
      <option value="Nice">Nice</option>
      <option value="Nîmes">Nîmes</option>
      <option value="Paris">Paris</option>
      <option value="Reims">Reims</option>
      <option value="Rennes">Rennes</option>
      <option value="Saint-Étienne">Saint-Étienne</option>
      <option value="Strasbourg">Strasbourg</option>
      <option value="Toulon">Toulon</option>
      <option value="Toulouse">Toulouse</option>
      <option value="Valenciennes">Valenciennes</option>
    </select>
  </label>

  <label>
    Способ связи:
    <select id="contactMethod" name="contactMethod" required onchange="toggleContactInput()">
      <option value="">Выберите</option>
      <option value="phone">Телефон</option>
      <option value="email">Email</option>
    </select>
  </label>

  <div id="contactPhone" style="display:none;">
    <label>
      Введите телефон:
      <input type="tel" name="phone" />
    </label>
  </div>

  <div id="contactEmail" style="display:none;">
    <label>
      Введите email:
      <input type="email" name="email" />
    </label>
  </div>

  <button type="submit">Добавить в каталог</button>
</form>

<h2>Каталог товаров</h2>
<div id="catalog"></div>

<script>
function toggleContactInput() {
  const method = document.getElementById('contactMethod').value;
  document.getElementById('contactPhone').style.display = method === 'phone' ? 'block' : 'none';
  document.getElementById('contactEmail').style.display = method === 'email' ? 'block' : 'none';
}

function loadCatalog() {
  const catalogDiv = document.getElementById('catalog');
  catalogDiv.innerHTML = '';
  const items = JSON.parse(localStorage.getItem('borzwearCatalog') || '[]');
  if (items.length === 0) {
    catalogDiv.innerHTML = '<p>Каталог пуст.</p>';
    return;
  }
  items.forEach(item => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `
      <h3>${item.productName}</h3>
      <div>Цена: €${item.price}</div>
      <div>Город: ${item.city}</div>
      <div class="contact">Связь: ${item.contactMethod === 'phone' ? 'Телефон: ' + item.phone : 'Email: ' + item.email}</div>
    `;
    catalogDiv.appendChild(div);
  });
}

document.getElementById('sellForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const form = e.target;

  const productName = form.productName.value.trim();
  const price = form.price.value;
  const city = form.city.value;
  const contactMethod = form.contactMethod.value;
  const phone = form.phone.value.trim();
  const email = form.email.value.trim();

  if (!productName || !price || !city || !contactMethod) {
    alert('Пожалуйста, заполните все обязательные поля');
    return;
  }
  if (contactMethod === 'phone' && !phone) {
    alert('Пожалуйста, введите телефон');
    return;
  }
  if (contactMethod === 'email' && !email) {
    alert('Пожалуйста, введите email');
    return;
  }

  const items = JSON.parse(localStorage.getItem('borzwearCatalog') || '[]');
  items.push({ productName, price, city, contactMethod, phone, email });
  localStorage.setItem('borzwearCatalog', JSON.stringify(items));

  alert('Товар добавлен в каталог!');
  form.reset();
  toggleContactInput();
  loadCatalog();
});

window.onload = loadCatalog;
</script>

</body>
</html>
